[gd_scene load_steps=7 format=3 uid="uid://j3m1lwvl5jua"]

[ext_resource type="Script" uid="uid://dbqotkyisa84w" path="res://Player/player.gd" id="1_l8h54"]
[ext_resource type="Script" uid="uid://cr4eajbcbd2hw" path="res://Player/smooth_camera_arm.gd" id="2_4ntmi"]
[ext_resource type="PackedScene" uid="uid://dhnqhg7al0gbr" path="res://Player/rig.tscn" id="3_btcbx"]
[ext_resource type="Script" uid="uid://c18p0xs4w5brd" path="res://Player/attack_cast.gd" id="4_gwnis"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hvfyp"]

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_l8h54"]

[node name="Player" type="CharacterBody3D"]
collision_layer = 5
script = ExtResource("1_l8h54")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_hvfyp")

[node name="SmoothCameraArm" type="SpringArm3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, 0.90630776, 0.42261827, 0, -0.42261827, 0.90630776, 0, 0, 0)
shape = SubResource("SeparationRayShape3D_l8h54")
spring_length = 4.0
script = ExtResource("2_4ntmi")
target = NodePath("../HorizontalPivot/VerticalPivot")

[node name="Camera3D" type="Camera3D" parent="SmoothCameraArm"]

[node name="HorizontalPivot" type="Node3D" parent="."]

[node name="VerticalPivot" type="Node3D" parent="HorizontalPivot"]

[node name="RigPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Rig" parent="RigPivot" instance=ExtResource("3_btcbx")]

[node name="Skeleton3D" parent="RigPivot/Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(1.1668373e-14, 0.89436734, -0.048173536)
bones/0/rotation = Quaternion(0.12581974, 1.1826191e-07, 1.4998871e-08, 0.99205315)
bones/1/rotation = Quaternion(-0.05665772, -0.00072972954, -0.011708177, 0.9983248)
bones/2/position = Vector3(3.204737e-09, 0.14668903, -1.9557774e-08)
bones/2/rotation = Quaternion(-0.0036019087, -0.00044460813, 0.003215356, 0.99998826)
bones/3/rotation = Quaternion(-0.09804056, -0.00040021082, 0.008519043, 0.9951459)
bones/4/position = Vector3(3.0293398e-10, 0.09255617, 3.9115548e-08)
bones/4/rotation = Quaternion(0.2785178, 1.4580305e-08, 9.4656144e-08, 0.96043116)
bones/5/rotation = Quaternion(-0.09485639, -2.806912e-14, -2.2615541e-08, 0.99549097)
bones/6/rotation = Quaternion(-0.1542903, -1.1778186e-07, -1.8392829e-08, 0.9880256)
bones/7/position = Vector3(-3.1961235e-08, 0.89436716, -0.04817346)
bones/7/rotation = Quaternion(-0.086367704, -0.75110435, -0.38305166, 0.53071135)
bones/8/position = Vector3(-6.266544e-08, 0.89436716, -0.04817351)
bones/8/rotation = Quaternion(-0.08636769, 0.7511042, 0.3830516, 0.5307113)
bones/9/position = Vector3(0.13114366, 0.96057147, -0.03512909)
bones/9/rotation = Quaternion(0.9927155, 0.02102432, -0.03087793, 0.11454578)
bones/10/position = Vector3(-2.3612856e-08, 0.2660098, -2.1478938e-08)
bones/10/rotation = Quaternion(-3.139207e-08, -0.0006950857, 1.2044876e-08, 0.99999976)
bones/11/position = Vector3(-4.6305953e-08, 0.2660099, 2.421448e-08)
bones/11/rotation = Quaternion(0.42687878, -0.0007006689, 0.00033088404, 0.9043086)
bones/12/position = Vector3(3.051513e-08, 0.22602953, 5.0376833e-08)
bones/12/rotation = Quaternion(-8.192261e-09, -0.0071064373, 4.1610164e-08, 0.9999748)
bones/13/position = Vector3(-2.9549483e-08, 0.22602952, 2.6839189e-09)
bones/13/rotation = Quaternion(-0.7544329, 0.011895936, 0.0244195, 0.65581495)
bones/15/position = Vector3(-0.13114372, 0.96057147, -0.035129108)
bones/15/rotation = Quaternion(0.97248375, -0.0059155584, 0.02722931, 0.2312984)
bones/16/position = Vector3(-1.1004229e-08, 0.2657052, -3.3198894e-08)
bones/16/rotation = Quaternion(-3.4322706e-08, 0.003143231, 8.33075e-10, 0.9999951)
bones/17/position = Vector3(1.835448e-08, 0.26570538, 6.9854256e-10)
bones/17/rotation = Quaternion(0.45050967, 0.003328574, -0.0016797689, 0.89276373)
bones/18/position = Vector3(1.2807033e-08, 0.2257194, -8.287741e-09)
bones/18/rotation = Quaternion(-2.2901656e-08, -0.007857315, 3.3014885e-08, 0.9999691)
bones/19/position = Vector3(-1.2774763e-08, 0.22571929, 1.1200427e-08)
bones/19/rotation = Quaternion(-0.69088817, -0.028206877, -0.0005408092, 0.722411)
bones/21/position = Vector3(0.025128616, 1.424737, 0.041473094)
bones/21/rotation = Quaternion(-0.49732825, -0.25630596, -0.39710832, 0.72751415)
bones/22/position = Vector3(0.18793176, 1.4611101, -0.02643595)
bones/22/rotation = Quaternion(0.055157542, -0.15887481, 0.974156, -0.15078646)
bones/23/rotation = Quaternion(9.938114e-08, -0.011622777, -1.615664e-08, 0.99993247)
bones/24/rotation = Quaternion(0.28906322, -0.0116234375, -0.01751439, 0.9570793)
bones/25/rotation = Quaternion(1.499429e-07, -1.2060627e-07, 9.9185876e-08, 1)
bones/26/rotation = Quaternion(-0.008248833, -0.00027077025, -0.032866735, 0.9994257)
bones/46/position = Vector3(-0.011363526, 1.4247371, 0.041473076)
bones/46/rotation = Quaternion(-0.51942164, 0.21136369, 0.3662909, 0.7425346)
bones/47/position = Vector3(-0.16472675, 1.4614363, -0.045546092)
bones/47/rotation = Quaternion(-0.088246964, -0.13457413, 0.9721159, 0.17056644)
bones/48/rotation = Quaternion(-8.326093e-08, 0.0046757865, -1.3865669e-07, 0.99998915)
bones/49/rotation = Quaternion(0.32041404, 0.004676109, 0.028795365, 0.9468283)
bones/50/rotation = Quaternion(-8.731149e-08, 2.7474018e-08, -1.2805685e-07, 1)
bones/51/rotation = Quaternion(-0.008248763, 0.00027083192, 0.032866996, 0.9994257)
bones/71/position = Vector3(0.12719111, 1.3426626, -0.026709544)
bones/71/rotation = Quaternion(1.9129049e-08, 0.61566025, 0.7880117, -4.6515044e-08)
bones/72/position = Vector3(-0.113425955, 1.3426626, -0.02670957)
bones/72/rotation = Quaternion(1.9129102e-08, 0.61566025, 0.7880117, -4.651498e-08)

[node name="RightHandBone" parent="RigPivot/Rig" index="2"]
transform = Transform3D(-0.9623435, -0.27080032, -0.02371576, 0.24407941, -0.8991898, 0.36315745, -0.11966812, 0.34369358, 0.93142563, -0.33854297, 0.977398, -0.040110864)

[node name="LeftHandBone" parent="RigPivot/Rig" index="3"]
transform = Transform3D(-0.9705134, 0.23910761, 0.030521743, -0.22354214, -0.9401598, 0.25715494, 0.09018305, 0.24274951, 0.96588784, 0.34474206, 0.966294, -0.055973798)

[node name="RayAttachment" type="BoneAttachment3D" parent="RigPivot/Rig"]
transform = Transform3D(-0.9623435, -0.27080032, -0.02371576, 0.24407941, -0.8991898, 0.36315745, -0.11966812, 0.34369358, 0.93142563, -0.33854297, 0.977398, -0.040110864)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="AttackCast" type="RayCast3D" parent="RigPivot/Rig/RayAttachment"]
unique_name_in_owner = true
transform = Transform3D(5.7282858e-08, 4.888998e-08, 1, 0.99619454, 0.08715594, -6.1325935e-08, -0.08715591, 0.9961949, -4.371139e-08, -0.03, 0.08, 0.003)
target_position = Vector3(0, 1, 0)
collision_mask = 8
script = ExtResource("4_gwnis")

[editable path="RigPivot/Rig"]
[editable path="RigPivot/Rig/CharacterRig"]
